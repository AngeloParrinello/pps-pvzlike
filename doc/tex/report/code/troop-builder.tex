\begin{lstlisting}[language=Scala, label=code:troopbuilder, caption= Builder per la creazione di una Troop.]
    object Troops:

        trait TroopBuilder[T <: Troop, B <: Bullet]:
            /**
            * @return A [[Troop]] of type [[T]]
            */
            def build: T

        /**
        * Given instances to create a [[BasicZombie]].
        */
        given TroopBuilder[BasicZombie, Bullet] with
            override def build: BasicZombie = BasicZombie()

        /**
         * Given instances to create a [[Wallnut]].
         */
        given TroopBuilder[Wallnut, Bullet] with
            override def build: Wallnut = Wallnut()


        def ofType[T <: Troop](using troopBuilder: TroopBuilder[T, Bullet]): T =
            troopBuilder.build
\end{lstlisting}